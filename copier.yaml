# copier.yaml
_min_copier_version: "9.0.0" # Yêu cầu Copier 9+ để tránh cảnh báo và tương thích tốt hơn

project_name:
  type: str
  help: Tên dự án Frontend (Next.js)
  default: "my-nextjs-app"

author_name:
  type: str
  help: Tên của tác giả
  default: "Your Name"

package_manager:
  type: str
  help: Chọn trình quản lý gói cho frontend
  choices:
    - npm
    - pnpm
    - yarn
    - bun
  default: "npm"
  ask: false

install_deps:
  type: bool
  help: Có cài đặt dependencies Frontend ngay không? (sẽ chạy {{ package_manager }} install trong thư mục frontend/)
  default: true

_tasks: # Hooks để chạy lệnh sau khi sao chép (cross-platform)
  # Cài đặt dependencies Frontend (Next.js) nếu được chọn
  - "python -c \"import subprocess; pm='{{ package_manager }}'; install={{ 'True' if install_deps else 'False' }}; cmds={'npm':['npm','install'],'pnpm':['pnpm','install'],'yarn':['yarn'],'bun':['bun','install']};\nif install: subprocess.check_call(cmds[pm], cwd='frontend')\""

_exclude: # Files/dirs không sao chép
  - .git/
  - .gitignore
  - venv/
  - .venv/
  - node_modules/
  - frontend/node_modules/
  - .next/
  - frontend/.next/
  - backend/
  - requirements.txt
  - frontend/copier.yaml
